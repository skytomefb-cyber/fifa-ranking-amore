<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Rank FIFA Amore â€” Interaktif</title>
<style>
  :root{
    --bg:#f0f2f5;
    --card:#fff;
    --accent1:#0066cc;
    --accent2:#00aaff;
  }
  html,body{height:100%;margin:0;}
  body{
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: linear-gradient(180deg,#e9f2ff 0%, #f6fbff 100%);
    color:#1b2330;
    padding:20px;
    box-sizing:border-box;
  }
  h1{ text-align:center;color:var(--accent1); margin:6px 0 12px; }
  .topbar{max-width:1200px;margin:0 auto 12px;display:flex;gap:12px;align-items:center;justify-content:space-between;}
  #search{flex:1;min-width:220px;padding:8px 12px;border-radius:8px;border:1px solid #cfdff3;font-size:15px;}
  .controls{display:flex;gap:8px;align-items:center;}
  .btn{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#fff;padding:8px 12px;border-radius:8px;border:0;cursor:pointer;font-weight:600;}
  .btn.secondary{background:#fff;border:1px solid #cfdff3;color:var(--accent1);}
  .card{max-width:1200px;margin:0 auto;background:rgba(255,255,255,0.9);border-radius:12px;box-shadow:0 6px 20px rgba(8,40,80,0.06);overflow:auto;}
  table{width:100%;border-collapse:collapse;min-width:760px;}
  th,td{padding:10px 12px;border-bottom:1px solid #eef6ff;text-align:center;vertical-align:middle;}
  th{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#fff;position:sticky;top:0;z-index:2;}
  tbody tr:hover td{background:#fff7e6;}
  td.country{display:flex;gap:10px;align-items:center;justify-content:flex-start}
  .flag{font-size:20px}
  .name{font-weight:600}
  .points{font-family:monospace;font-weight:700}
  .actions{display:flex;gap:6px;justify-content:center}
  .small-btn{padding:6px 8px;border-radius:6px;border:0;cursor:pointer;font-weight:700}
  .win{background:#4caf50;color:#fff}       /* +12 */
  .draw{background:#ffb300;color:#fff}      /* +3 */
  .lose{background:#e53935;color:#fff}      /* -12 */
  /* row color by rank */
  tr.gold td{background:#fff3cf}
  tr.silver td{background:#f0f0f0}
  tr.blue td{background:#e9f9ff}
  /* responsive */
  @media (max-width:820px){
    .country{flex-direction:column;align-items:center}
    th:nth-child(1),td:nth-child(1){display:none} /* hide rank column on very small screens if present */
  }
  .note{max-width:1200px;margin:12px auto;color:#445; font-size:14px}
  .reset{background:#fff;border:1px solid #cfdff3;color:var(--accent1);padding:8px 10px;border-radius:8px;cursor:pointer}
</style>
</head>
<body>

<h1>Rank FIFA Amore â€” Interaktif</h1>
<div class="topbar">
  <input id="search" placeholder="Cari negara... (ketik nama negara)" />
  <div class="controls">
    <button class="btn" id="resetView">Reset ke default</button>
    <button class="btn secondary" id="resetStorage" title="Kembalikan semua poin ke nilai awal">Reset penyimpanan</button>
  </div>
</div>

<div class="card" id="card">
  <table id="rankingTable" aria-label="Ranking FIFA Amore">
    <thead>
      <tr>
        <th style="width:64px">Rank</th>
        <th>Negara</th>
        <th style="width:120px">Poin</th>
        <th style="width:220px">Aksi</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<p class="note">Klik <strong>Menang</strong> (+12), <strong>Seri</strong> (+3), atau <strong>Kalah</strong> (âˆ’12) di tiap baris. Perubahan disimpan di browser (localStorage).</p>

<script>
/* ---------- DATA: 150 negara unik ---------- */
/* Top 10 yang akan dapat 3000 poin */
const TOP10 = ["Spain","France","Argentina","England","Portugal","Brazil","Netherlands","Germany","Croatia","Italy"];

/* List 150 negara unik (nama & flag emoji) */
const COUNTRIES = [
{ name:"Brazil", flag:"ðŸ‡§ðŸ‡·" },{ name:"Argentina", flag:"ðŸ‡¦ðŸ‡·" },{ name:"Germany", flag:"ðŸ‡©ðŸ‡ª" },
{ name:"France", flag:"ðŸ‡«ðŸ‡·" },{ name:"Spain", flag:"ðŸ‡ªðŸ‡¸" },{ name:"Italy", flag:"ðŸ‡®ðŸ‡¹" },
{ name:"England", flag:"ðŸ´" },{ name:"Portugal", flag:"ðŸ‡µðŸ‡¹" },{ name:"Netherlands", flag:"ðŸ‡³ðŸ‡±" },
{ name:"Croatia", flag:"ðŸ‡­ðŸ‡·" },{ name:"Belgium", flag:"ðŸ‡§ðŸ‡ª" },{ name:"Uruguay", flag:"ðŸ‡ºðŸ‡¾" },
{ name:"Switzerland", flag:"ðŸ‡¨ðŸ‡­" },{ name:"Denmark", flag:"ðŸ‡©ðŸ‡°" },{ name:"Sweden", flag:"ðŸ‡¸ðŸ‡ª" },
{ name:"Poland", flag:"ðŸ‡µðŸ‡±" },{ name:"Mexico", flag:"ðŸ‡²ðŸ‡½" },{ name:"United States", flag:"ðŸ‡ºðŸ‡¸" },
{ name:"Canada", flag:"ðŸ‡¨ðŸ‡¦" },{ name:"Colombia", flag:"ðŸ‡¨ðŸ‡´" },{ name:"Chile", flag:"ðŸ‡¨ðŸ‡±" },
{ name:"Peru", flag:"ðŸ‡µðŸ‡ª" },{ name:"Ecuador", flag:"ðŸ‡ªðŸ‡¨" },{ name:"Paraguay", flag:"ðŸ‡µðŸ‡¾" },
{ name:"Venezuela", flag:"ðŸ‡»ðŸ‡ª" },{ name:"Japan", flag:"ðŸ‡¯ðŸ‡µ" },{ name:"South Korea", flag:"ðŸ‡°ðŸ‡·" },
{ name:"Iran", flag:"ðŸ‡®ðŸ‡·" },{ name:"Saudi Arabia", flag:"ðŸ‡¸ðŸ‡¦" },{ name:"Australia", flag:"ðŸ‡¦ðŸ‡º" },
{ name:"New Zealand", flag:"ðŸ‡³ðŸ‡¿" },{ name:"Nigeria", flag:"ðŸ‡³ðŸ‡¬" },{ name:"Senegal", flag:"ðŸ‡¸ðŸ‡³" },
{ name:"Morocco", flag:"ðŸ‡²ðŸ‡¦" },{ name:"Egypt", flag:"ðŸ‡ªðŸ‡¬" },{ name:"Cameroon", flag:"ðŸ‡¨ðŸ‡²" },
{ name:"Ghana", flag:"ðŸ‡¬ðŸ‡­" },{ name:"Tunisia", flag:"ðŸ‡¹ðŸ‡³" },{ name:"Algeria", flag:"ðŸ‡©ðŸ‡¿" },
{ name:"Czech Republic", flag:"ðŸ‡¨ðŸ‡¿" },{ name:"Austria", flag:"ðŸ‡¦ðŸ‡¹" },{ name:"Russia", flag:"ðŸ‡·ðŸ‡º" },
{ name:"Ukraine", flag:"ðŸ‡ºðŸ‡¦" },{ name:"Serbia", flag:"ðŸ‡·ðŸ‡¸" },{ name:"Norway", flag:"ðŸ‡³ðŸ‡´" },
{ name:"Scotland", flag:"ðŸ´" },{ name:"Wales", flag:"ðŸ´" },{ name:"Finland", flag:"ðŸ‡«ðŸ‡®" },
{ name:"Greece", flag:"ðŸ‡¬ðŸ‡·" },{ name:"Turkey", flag:"ðŸ‡¹ðŸ‡·" },{ name:"Iceland", flag:"ðŸ‡®ðŸ‡¸" },
{ name:"Hungary", flag:"ðŸ‡­ðŸ‡º" },{ name:"Slovakia", flag:"ðŸ‡¸ðŸ‡°" },{ name:"Slovenia", flag:"ðŸ‡¸ðŸ‡®" },
{ name:"Bosnia & Herzegovina", flag:"ðŸ‡§ðŸ‡¦" },{ name:"Lithuania", flag:"ðŸ‡±ðŸ‡¹" },{ name:"Latvia", flag:"ðŸ‡±ðŸ‡»" },
{ name:"Estonia", flag:"ðŸ‡ªðŸ‡ª" },{ name:"Belarus", flag:"ðŸ‡§ðŸ‡¾" },{ name:"Luxembourg", flag:"ðŸ‡±ðŸ‡º" },
{ name:"Malta", flag:"ðŸ‡²ðŸ‡¹" },{ name:"Cyprus", flag:"ðŸ‡¨ðŸ‡¾" },{ name:"Israel", flag:"ðŸ‡®ðŸ‡±" },
{ name:"Panama", flag:"ðŸ‡µðŸ‡¦" },{ name:"Costa Rica", flag:"ðŸ‡¨ðŸ‡·" },{ name:"Honduras", flag:"ðŸ‡­ðŸ‡³" },
{ name:"Jamaica", flag:"ðŸ‡¯ðŸ‡²" },{ name:"Trinidad & Tobago", flag:"ðŸ‡¹ðŸ‡¹" },{ name:"Cuba", flag:"ðŸ‡¨ðŸ‡º" },
{ name:"Bolivia", flag:"ðŸ‡§ðŸ‡´" },{ name:"DR Congo", flag:"ðŸ‡¨ðŸ‡©" },{ name:"Ivory Coast", flag:"ðŸ‡¨ðŸ‡®" },
{ name:"Angola", flag:"ðŸ‡¦ðŸ‡´" },{ name:"South Africa", flag:"ðŸ‡¿ðŸ‡¦" },{ name:"Madagascar", flag:"ðŸ‡²ðŸ‡¬" },
{ name:"Kenya", flag:"ðŸ‡°ðŸ‡ª" },{ name:"Uganda", flag:"ðŸ‡ºðŸ‡¬" },{ name:"Tanzania", flag:"ðŸ‡¹ðŸ‡¿" },
{ name:"China", flag:"ðŸ‡¨ðŸ‡³" },{ name:"India", flag:"ðŸ‡®ðŸ‡³" },{ name:"Pakistan", flag:"ðŸ‡µðŸ‡°" },
{ name:"Bangladesh", flag:"ðŸ‡§ðŸ‡©" },{ name:"Indonesia", flag:"ðŸ‡®ðŸ‡©" },{ name:"Thailand", flag:"ðŸ‡¹ðŸ‡­" },
{ name:"Vietnam", flag:"ðŸ‡»ðŸ‡³" },{ name:"Malaysia", flag:"ðŸ‡²ðŸ‡¾" },{ name:"Singapore", flag:"ðŸ‡¸ðŸ‡¬" },
{ name:"Philippines", flag:"ðŸ‡µðŸ‡­" },{ name:"Nepal", flag:"ðŸ‡³ðŸ‡µ" },{ name:"Sri Lanka", flag:"ðŸ‡±ðŸ‡°" },
{ name:"Myanmar", flag:"ðŸ‡²ðŸ‡²" },{ name:"Cambodia", flag:"ðŸ‡°ðŸ‡­" },{ name:"Laos", flag:"ðŸ‡±ðŸ‡¦" },
{ name:"Mongolia", flag:"ðŸ‡²ðŸ‡³" },{ name:"Kazakhstan", flag:"ðŸ‡°ðŸ‡¿" },{ name:"Uzbekistan", flag:"ðŸ‡ºðŸ‡¿" },
{ name:"Kyrgyzstan", flag:"ðŸ‡°ðŸ‡¬" },{ name:"Tajikistan", flag:"ðŸ‡¹ðŸ‡¯" },{ name:"Turkmenistan", flag:"ðŸ‡¹ðŸ‡²" },
{ name:"Afghanistan", flag:"ðŸ‡¦ðŸ‡«" },{ name:"Iraq", flag:"ðŸ‡®ðŸ‡¶" },{ name:"Syria", flag:"ðŸ‡¸ðŸ‡¾" },
{ name:"Lebanon", flag:"ðŸ‡±ðŸ‡§" },{ name:"Jordan", flag:"ðŸ‡¯ðŸ‡´" },{ name:"Palestine", flag:"ðŸ‡µðŸ‡¸" },
{ name:"United Arab Emirates", flag:"ðŸ‡¦ðŸ‡ª" },{ name:"Qatar", flag:"ðŸ‡¶ðŸ‡¦" },{ name:"Kuwait", flag:"ðŸ‡°ðŸ‡¼" },
{ name:"Oman", flag:"ðŸ‡´ðŸ‡²" },{ name:"Bahrain", flag:"ðŸ‡§ðŸ‡­" },{ name:"Yemen", flag:"ðŸ‡¾ðŸ‡ª" },
{ name:"North Korea", flag:"ðŸ‡°ðŸ‡µ" },{ name:"Bhutan", flag:"ðŸ‡§ðŸ‡¹" },{ name:"Maldives", flag:"ðŸ‡²ðŸ‡»" },
{ name:"Seychelles", flag:"ðŸ‡¸ðŸ‡¨" },{ name:"Mauritius", flag:"ðŸ‡²ðŸ‡º" },{ name:"Fiji", flag:"ðŸ‡«ðŸ‡¯" },
{ name:"Papua New Guinea", flag:"ðŸ‡µðŸ‡¬" },{ name:"Solomon Islands", flag:"ðŸ‡¸ðŸ‡§" },{ name:"Vanuatu", flag:"ðŸ‡»ðŸ‡º" },
{ name:"Samoa", flag:"ðŸ‡¼ðŸ‡¸" },{ name:"Tonga", flag:"ðŸ‡¹ðŸ‡´" },{ name:"Micronesia", flag:"ðŸ‡«ðŸ‡²" },
{ name:"Palau", flag:"ðŸ‡µðŸ‡¼" },{ name:"Marshall Islands", flag:"ðŸ‡²ðŸ‡­" },{ name:"Nauru", flag:"ðŸ‡³ðŸ‡·" },
{ name:"Tuvalu", flag:"ðŸ‡¹ðŸ‡»" },{ name:"Kiribati", flag:"ðŸ‡°ðŸ‡®" },{ name:"Brunei", flag:"ðŸ‡§ðŸ‡³" }
];

/* ---------- default points (top10=3000, others=1500) ---------- */
const DEFAULT_POINTS = {};
COUNTRIES.forEach(c => DEFAULT_POINTS[c.name] = TOP10.includes(c.name) ? 3000 : 1500);

/* localStorage key */
const STORAGE_KEY = "amore_fifa_points_v1";

/* load saved or use default */
function loadPoints(){
  try{
    const raw = localStorage.getItem(STORAGE_KEY);
    if(raw){
      const parsed = JSON.parse(raw);
      // ensure all countries exist (if new code added)
      COUNTRIES.forEach(c => {
        if(!(c.name in parsed)) parsed[c.name] = DEFAULT_POINTS[c.name];
      });
      return parsed;
    }
  }catch(e){ console.warn("loadPoints failed",e); }
  // fallback
  return {...DEFAULT_POINTS};
}

/* save */
function savePoints(map){
  try{ localStorage.setItem(STORAGE_KEY, JSON.stringify(map)); }catch(e){ console.warn("savePoints failed",e); }
}

/* initial data */
let points = loadPoints();

/* render function (sort by points desc) */
function renderTable(filter=""){
  const tbody = document.querySelector("#rankingTable tbody");
  tbody.innerHTML = "";
  // Create array with current points
  const arr = COUNTRIES.map(c => ({ name:c.name, flag:c.flag, points: points[c.name] ?? DEFAULT_POINTS[c.name] }));
  // sort
  arr.sort((a,b) => b.points - a.points || a.name.localeCompare(b.name));
  // render rows
  arr.forEach((c,i) => {
    if(filter && !c.name.toLowerCase().includes(filter.toLowerCase())) return;
    const tr = document.createElement("tr");
    // color classes: gold (1-10), silver (11-50), blue (51+)
    if(i < 10) tr.classList.add("gold");
    else if(i < 50) tr.classList.add("silver");
    else tr.classList.add("blue");
    tr.innerHTML = `
      <td style="font-weight:700">${i+1}</td>
      <td class="country"><span class="flag">${c.flag}</span><span class="name">${c.name}</span></td>
      <td class="points" data-name="${c.name}">${c.points}</td>
      <td class="actions">
        <button class="small-btn win" data-action="win" data-name="${c.name}" title="+12">Menang +12</button>
        <button class="small-btn draw" data-action="draw" data-name="${c.name}" title="+3">Seri +3</button>
        <button class="small-btn lose" data-action="lose" data-name="${c.name}" title="-12">Kalah -12</button>
      </td>
    `;
    tbody.appendChild(tr);
  });
  attachActionHandlers();
}

/* attach handlers for action buttons */
function attachActionHandlers(){
  document.querySelectorAll("#rankingTable button[data-action]").forEach(btn => {
    btn.onclick = () => {
      const name = btn.getAttribute("data-name");
      const action = btn.getAttribute("data-action");
      if(!name || !action) return;
      let delta = 0;
      if(action === "win") delta = 12;
      else if(action === "draw") delta = 3;
      else if(action === "lose") delta = -12;
      // apply
      const current = Number(points[name] ?? DEFAULT_POINTS[name] ?? 1500);
      let next = current + delta;
      if(next < 0) next = 0;
      points[name] = next;
      savePoints(points);
      renderTable(document.getElementById("search").value.trim());
    };
  });
}

/* reset storage to defaults */
document.getElementById("resetStorage").addEventListener("click", () => {
  if(!confirm("Reset semua poin ke nilai awal (top10=3000, lainnya=1500)?")) return;
  points = {...DEFAULT_POINTS};
  savePoints(points);
  renderTable(document.getElementById("search").value.trim());
});

/* reset view only (re-render from current storage) */
document.getElementById("resetView").addEventListener("click", () => {
  points = loadPoints();
  renderTable(document.getElementById("search").value.trim());
});

/* search */
document.getElementById("search").addEventListener("input", e => {
  renderTable(e.target.value.trim());
});

/* initial render */
renderTable();

/* ensure points persist on page unload (redundant but safe) */
window.addEventListener("beforeunload", () => savePoints(points));
</script>
<script>
fetch("data/data.json")
  .then(response => response.json())
  .then(data => {
    const container = document.createElement("div");
    container.style.textAlign = "center";

    // urutkan poin tertinggi dulu
    data.sort((a, b) => b.poin - a.poin);

    data.forEach(item => {
      const el = document.createElement("p");
      el.textContent = `${item.negara}: ${item.poin} poin`;
      container.appendChild(el);
    });

    document.body.appendChild(container);
  })
  .catch(error => console.error("Gagal ambil data:", error));
</script>
</body>
</html>
