<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Rank FIFA Amore — Interaktif</title>
<style>
  :root{
    --bg:#f0f2f5;
    --card:#fff;
    --accent1:#0066cc;
    --accent2:#00aaff;
  }
  html,body{height:100%;margin:0;}
  body{
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: linear-gradient(180deg,#e9f2ff 0%, #f6fbff 100%);
    color:#1b2330;
    padding:20px;
    box-sizing:border-box;
  }
  h1{ text-align:center;color:var(--accent1); margin:6px 0 12px; }
  .topbar{max-width:1200px;margin:0 auto 12px;display:flex;gap:12px;align-items:center;justify-content:space-between;}
  #search{flex:1;min-width:220px;padding:8px 12px;border-radius:8px;border:1px solid #cfdff3;font-size:15px;}
  .controls{display:flex;gap:8px;align-items:center;}
  .btn{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#fff;padding:8px 12px;border-radius:8px;border:0;cursor:pointer;font-weight:600;}
  .btn.secondary{background:#fff;border:1px solid #cfdff3;color:var(--accent1);}
  .card{max-width:1200px;margin:0 auto;background:rgba(255,255,255,0.9);border-radius:12px;box-shadow:0 6px 20px rgba(8,40,80,0.06);overflow:auto;}
  table{width:100%;border-collapse:collapse;min-width:760px;}
  th,td{padding:10px 12px;border-bottom:1px solid #eef6ff;text-align:center;vertical-align:middle;}
  th{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#fff;position:sticky;top:0;z-index:2;}
  tbody tr:hover td{background:#fff7e6;}
  td.country{display:flex;gap:10px;align-items:center;justify-content:flex-start}
  .flag{font-size:20px}
  .name{font-weight:600}
  .points{font-family:monospace;font-weight:700}
  .actions{display:flex;gap:6px;justify-content:center}
  .small-btn{padding:6px 8px;border-radius:6px;border:0;cursor:pointer;font-weight:700}
  .win{background:#4caf50;color:#fff}       /* +12 */
  .draw{background:#ffb300;color:#fff}      /* +3 */
  .lose{background:#e53935;color:#fff}      /* -12 */
  /* row color by rank */
  tr.gold td{background:#fff3cf}
  tr.silver td{background:#f0f0f0}
  tr.blue td{background:#e9f9ff}
  /* responsive */
  @media (max-width:820px){
    .country{flex-direction:column;align-items:center}
    th:nth-child(1),td:nth-child(1){display:none} /* hide rank column on very small screens if present */
  }
  .note{max-width:1200px;margin:12px auto;color:#445; font-size:14px}
  .reset{background:#fff;border:1px solid #cfdff3;color:var(--accent1);padding:8px 10px;border-radius:8px;cursor:pointer}
</style>
</head>
<body>

<h1>Rank FIFA Amore — Interaktif</h1>
<div class="topbar">
  <input id="search" placeholder="Cari negara... (ketik nama negara)" />
  <div class="controls">
    <button class="btn" id="resetView">Reset ke default</button>
    <button class="btn secondary" id="resetStorage" title="Kembalikan semua poin ke nilai awal">Reset penyimpanan</button>
  </div>
</div>

<div class="card" id="card">
  <table id="rankingTable" aria-label="Ranking FIFA Amore">
    <thead>
      <tr>
        <th style="width:64px">Rank</th>
        <th>Negara</th>
        <th style="width:120px">Poin</th>
        <th style="width:220px">Aksi</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<p class="note">Klik <strong>Menang</strong> (+12), <strong>Seri</strong> (+3), atau <strong>Kalah</strong> (−12) di tiap baris. Perubahan disimpan di browser (localStorage).</p>

<script>
/* ---------- DATA: 150 negara unik ---------- */
/* Top 10 yang akan dapat 3000 poin */
const TOP10 = ["Spain","France","Argentina","England","Portugal","Brazil","Netherlands","Germany","Croatia","Italy"];

/* List 150 negara unik (nama & flag emoji) */
const COUNTRIES = [
{ name:"Brazil", flag:"🇧🇷" },{ name:"Argentina", flag:"🇦🇷" },{ name:"Germany", flag:"🇩🇪" },
{ name:"France", flag:"🇫🇷" },{ name:"Spain", flag:"🇪🇸" },{ name:"Italy", flag:"🇮🇹" },
{ name:"England", flag:"🏴" },{ name:"Portugal", flag:"🇵🇹" },{ name:"Netherlands", flag:"🇳🇱" },
{ name:"Croatia", flag:"🇭🇷" },{ name:"Belgium", flag:"🇧🇪" },{ name:"Uruguay", flag:"🇺🇾" },
{ name:"Switzerland", flag:"🇨🇭" },{ name:"Denmark", flag:"🇩🇰" },{ name:"Sweden", flag:"🇸🇪" },
{ name:"Poland", flag:"🇵🇱" },{ name:"Mexico", flag:"🇲🇽" },{ name:"United States", flag:"🇺🇸" },
{ name:"Canada", flag:"🇨🇦" },{ name:"Colombia", flag:"🇨🇴" },{ name:"Chile", flag:"🇨🇱" },
{ name:"Peru", flag:"🇵🇪" },{ name:"Ecuador", flag:"🇪🇨" },{ name:"Paraguay", flag:"🇵🇾" },
{ name:"Venezuela", flag:"🇻🇪" },{ name:"Japan", flag:"🇯🇵" },{ name:"South Korea", flag:"🇰🇷" },
{ name:"Iran", flag:"🇮🇷" },{ name:"Saudi Arabia", flag:"🇸🇦" },{ name:"Australia", flag:"🇦🇺" },
{ name:"New Zealand", flag:"🇳🇿" },{ name:"Nigeria", flag:"🇳🇬" },{ name:"Senegal", flag:"🇸🇳" },
{ name:"Morocco", flag:"🇲🇦" },{ name:"Egypt", flag:"🇪🇬" },{ name:"Cameroon", flag:"🇨🇲" },
{ name:"Ghana", flag:"🇬🇭" },{ name:"Tunisia", flag:"🇹🇳" },{ name:"Algeria", flag:"🇩🇿" },
{ name:"Czech Republic", flag:"🇨🇿" },{ name:"Austria", flag:"🇦🇹" },{ name:"Russia", flag:"🇷🇺" },
{ name:"Ukraine", flag:"🇺🇦" },{ name:"Serbia", flag:"🇷🇸" },{ name:"Norway", flag:"🇳🇴" },
{ name:"Scotland", flag:"🏴" },{ name:"Wales", flag:"🏴" },{ name:"Finland", flag:"🇫🇮" },
{ name:"Greece", flag:"🇬🇷" },{ name:"Turkey", flag:"🇹🇷" },{ name:"Iceland", flag:"🇮🇸" },
{ name:"Hungary", flag:"🇭🇺" },{ name:"Slovakia", flag:"🇸🇰" },{ name:"Slovenia", flag:"🇸🇮" },
{ name:"Bosnia & Herzegovina", flag:"🇧🇦" },{ name:"Lithuania", flag:"🇱🇹" },{ name:"Latvia", flag:"🇱🇻" },
{ name:"Estonia", flag:"🇪🇪" },{ name:"Belarus", flag:"🇧🇾" },{ name:"Luxembourg", flag:"🇱🇺" },
{ name:"Malta", flag:"🇲🇹" },{ name:"Cyprus", flag:"🇨🇾" },{ name:"Israel", flag:"🇮🇱" },
{ name:"Panama", flag:"🇵🇦" },{ name:"Costa Rica", flag:"🇨🇷" },{ name:"Honduras", flag:"🇭🇳" },
{ name:"Jamaica", flag:"🇯🇲" },{ name:"Trinidad & Tobago", flag:"🇹🇹" },{ name:"Cuba", flag:"🇨🇺" },
{ name:"Bolivia", flag:"🇧🇴" },{ name:"DR Congo", flag:"🇨🇩" },{ name:"Ivory Coast", flag:"🇨🇮" },
{ name:"Angola", flag:"🇦🇴" },{ name:"South Africa", flag:"🇿🇦" },{ name:"Madagascar", flag:"🇲🇬" },
{ name:"Kenya", flag:"🇰🇪" },{ name:"Uganda", flag:"🇺🇬" },{ name:"Tanzania", flag:"🇹🇿" },
{ name:"China", flag:"🇨🇳" },{ name:"India", flag:"🇮🇳" },{ name:"Pakistan", flag:"🇵🇰" },
{ name:"Bangladesh", flag:"🇧🇩" },{ name:"Indonesia", flag:"🇮🇩" },{ name:"Thailand", flag:"🇹🇭" },
{ name:"Vietnam", flag:"🇻🇳" },{ name:"Malaysia", flag:"🇲🇾" },{ name:"Singapore", flag:"🇸🇬" },
{ name:"Philippines", flag:"🇵🇭" },{ name:"Nepal", flag:"🇳🇵" },{ name:"Sri Lanka", flag:"🇱🇰" },
{ name:"Myanmar", flag:"🇲🇲" },{ name:"Cambodia", flag:"🇰🇭" },{ name:"Laos", flag:"🇱🇦" },
{ name:"Mongolia", flag:"🇲🇳" },{ name:"Kazakhstan", flag:"🇰🇿" },{ name:"Uzbekistan", flag:"🇺🇿" },
{ name:"Kyrgyzstan", flag:"🇰🇬" },{ name:"Tajikistan", flag:"🇹🇯" },{ name:"Turkmenistan", flag:"🇹🇲" },
{ name:"Afghanistan", flag:"🇦🇫" },{ name:"Iraq", flag:"🇮🇶" },{ name:"Syria", flag:"🇸🇾" },
{ name:"Lebanon", flag:"🇱🇧" },{ name:"Jordan", flag:"🇯🇴" },{ name:"Palestine", flag:"🇵🇸" },
{ name:"United Arab Emirates", flag:"🇦🇪" },{ name:"Qatar", flag:"🇶🇦" },{ name:"Kuwait", flag:"🇰🇼" },
{ name:"Oman", flag:"🇴🇲" },{ name:"Bahrain", flag:"🇧🇭" },{ name:"Yemen", flag:"🇾🇪" },
{ name:"North Korea", flag:"🇰🇵" },{ name:"Bhutan", flag:"🇧🇹" },{ name:"Maldives", flag:"🇲🇻" },
{ name:"Seychelles", flag:"🇸🇨" },{ name:"Mauritius", flag:"🇲🇺" },{ name:"Fiji", flag:"🇫🇯" },
{ name:"Papua New Guinea", flag:"🇵🇬" },{ name:"Solomon Islands", flag:"🇸🇧" },{ name:"Vanuatu", flag:"🇻🇺" },
{ name:"Samoa", flag:"🇼🇸" },{ name:"Tonga", flag:"🇹🇴" },{ name:"Micronesia", flag:"🇫🇲" },
{ name:"Palau", flag:"🇵🇼" },{ name:"Marshall Islands", flag:"🇲🇭" },{ name:"Nauru", flag:"🇳🇷" },
{ name:"Tuvalu", flag:"🇹🇻" },{ name:"Kiribati", flag:"🇰🇮" },{ name:"Brunei", flag:"🇧🇳" }
];

/* ---------- default points (top10=3000, others=1500) ---------- */
const DEFAULT_POINTS = {};
COUNTRIES.forEach(c => DEFAULT_POINTS[c.name] = TOP10.includes(c.name) ? 3000 : 1500);

/* localStorage key */
const STORAGE_KEY = "amore_fifa_points_v1";

/* load saved or use default */
function loadPoints(){
  try{
    const raw = localStorage.getItem(STORAGE_KEY);
    if(raw){
      const parsed = JSON.parse(raw);
      // ensure all countries exist (if new code added)
      COUNTRIES.forEach(c => {
        if(!(c.name in parsed)) parsed[c.name] = DEFAULT_POINTS[c.name];
      });
      return parsed;
    }
  }catch(e){ console.warn("loadPoints failed",e); }
  // fallback
  return {...DEFAULT_POINTS};
}

/* save */
function savePoints(map){
  try{ localStorage.setItem(STORAGE_KEY, JSON.stringify(map)); }catch(e){ console.warn("savePoints failed",e); }
}

/* initial data */
let points = loadPoints();

/* render function (sort by points desc) */
function renderTable(filter=""){
  const tbody = document.querySelector("#rankingTable tbody");
  tbody.innerHTML = "";
  // Create array with current points
  const arr = COUNTRIES.map(c => ({ name:c.name, flag:c.flag, points: points[c.name] ?? DEFAULT_POINTS[c.name] }));
  // sort
  arr.sort((a,b) => b.points - a.points || a.name.localeCompare(b.name));
  // render rows
  arr.forEach((c,i) => {
    if(filter && !c.name.toLowerCase().includes(filter.toLowerCase())) return;
    const tr = document.createElement("tr");
    // color classes: gold (1-10), silver (11-50), blue (51+)
    if(i < 10) tr.classList.add("gold");
    else if(i < 50) tr.classList.add("silver");
    else tr.classList.add("blue");
    tr.innerHTML = `
      <td style="font-weight:700">${i+1}</td>
      <td class="country"><span class="flag">${c.flag}</span><span class="name">${c.name}</span></td>
      <td class="points" data-name="${c.name}">${c.points}</td>
      <td class="actions">
        <button class="small-btn win" data-action="win" data-name="${c.name}" title="+12">Menang +12</button>
        <button class="small-btn draw" data-action="draw" data-name="${c.name}" title="+3">Seri +3</button>
        <button class="small-btn lose" data-action="lose" data-name="${c.name}" title="-12">Kalah -12</button>
      </td>
    `;
    tbody.appendChild(tr);
  });
  attachActionHandlers();
}

/* attach handlers for action buttons */
function attachActionHandlers(){
  document.querySelectorAll("#rankingTable button[data-action]").forEach(btn => {
    btn.onclick = () => {
      const name = btn.getAttribute("data-name");
      const action = btn.getAttribute("data-action");
      if(!name || !action) return;
      let delta = 0;
      if(action === "win") delta = 12;
      else if(action === "draw") delta = 3;
      else if(action === "lose") delta = -12;
      // apply
      const current = Number(points[name] ?? DEFAULT_POINTS[name] ?? 1500);
      let next = current + delta;
      if(next < 0) next = 0;
      points[name] = next;
      savePoints(points);
      renderTable(document.getElementById("search").value.trim());
    };
  });
}

/* reset storage to defaults */
document.getElementById("resetStorage").addEventListener("click", () => {
  if(!confirm("Reset semua poin ke nilai awal (top10=3000, lainnya=1500)?")) return;
  points = {...DEFAULT_POINTS};
  savePoints(points);
  renderTable(document.getElementById("search").value.trim());
});

/* reset view only (re-render from current storage) */
document.getElementById("resetView").addEventListener("click", () => {
  points = loadPoints();
  renderTable(document.getElementById("search").value.trim());
});

/* search */
document.getElementById("search").addEventListener("input", e => {
  renderTable(e.target.value.trim());
});

/* initial render */
renderTable();

/* ensure points persist on page unload (redundant but safe) */
window.addEventListener("beforeunload", () => savePoints(points));
</script>
<script>
fetch("data/data.json")
  .then(response => response.json())
  .then(data => {
    const container = document.createElement("div");
    container.style.textAlign = "center";

    // urutkan poin tertinggi dulu
    data.sort((a, b) => b.poin - a.poin);

    data.forEach(item => {
      const el = document.createElement("p");
      el.textContent = `${item.negara}: ${item.poin} poin`;
      container.appendChild(el);
    });

    document.body.appendChild(container);
  })
  .catch(error => console.error("Gagal ambil data:", error));
</script>
</body>
</html>
